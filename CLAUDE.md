# üöÄ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ Next.js Frontend

## üéØ –ü–†–ê–í–ò–õ–û ‚Ññ1 - –í–°–ï–ì–î–ê –°–û–•–†–ê–ù–Ø–¢–¨ –ò–ù–§–û–†–ú–ê–¶–ò–Æ –í CLAUDE.md

**–í–ê–ñ–ù–û–ï –ü–†–ê–í–ò–õ–û –î–õ–Ø CLAUDE:**
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ª—é–±–æ–π –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–µ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞) - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–π –µ—ë –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª
- –ö–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —à–∞–≥–æ–º –≤ —Ä–∞–±–æ—Ç–µ
- –ù–µ –ø–æ–ª–∞–≥–∞–π—Å—è –Ω–∞ –ø–∞–º—è—Ç—å –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏
- CLAUDE.md - –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –æ –ø—Ä–æ–µ–∫—Ç–µ
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π CLAUDE.md –ø—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –ø–æ –ø—Ä–æ–µ–∫—Ç—É

**–ß–¢–û –°–û–•–†–ê–ù–Ø–¢–¨:**
- –ù–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–æ–≤ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –±—ç–∫–µ–Ω–¥–∞
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
- –í–∞–∂–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–µ–π
- –õ—é–±—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

- **Frontend**: Next.js 15 + React 19 + TypeScript
- **UI**: Tailwind CSS + shadcn/ui
- **State Management**: React Context + Custom Hooks
- **Backend**: –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
- **Forms**: React Hook Form + Zod
- **Testing**: Jest + Testing Library –∏–ª–∏ Vitest

### Backend API

–û—Å–Ω–æ–≤–Ω–æ–π backend –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ, URL –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑:
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è: `NEXT_PUBLIC_BACKEND_API_URL`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –¥–∞–Ω–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**Endpoints –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- `GET /users/login/:id` - –≤—Ö–æ–¥ –ø–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ development —Ä–µ–∂–∏–º–µ
- `GET /users/me` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `GET /users/login` - –æ–±—â–∏–π endpoint –¥–ª—è –ª–æ–≥–∏–Ω–∞

### Backend Routes Architecture

–ö–ª–∞—Å—Å Users –Ω–∞ –±—ç–∫–µ–Ω–¥–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ endpoints:

```typescript
class Users {
  get routes(): Omit<Endpoint, 'root'>[] {
    return [
      {
        path: '/login',
        method: 'get',
        handler: this.login,
      },
      {
        path: '/login/:id',
        method: 'get',
        handler: this.loginById,
      },
      {
        path: '/me',
        method: 'get',
        handler: this.me,
      },
    ]
  }
}
```

### Development Features

**Dev Login Component:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `DevLogin` –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ development —Ä–µ–∂–∏–º–µ
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ–π—Ç–∏ –ø–æ userId —á–µ—Ä–µ–∑ GET –∑–∞–ø—Ä–æ—Å –∫ `GET /users/login/:id`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_BACKEND_API_URL`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/auth` –≤ —Å–∞–º–æ–º –Ω–∏–∑—É
- –°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω –≤ –µ–¥–∏–Ω–æ–º –¥–∏–∑–∞–π–Ω–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º UI (–∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π auth –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å `useThreadsAuth` —Ö—É–∫–æ–º –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**useThreadsAuth Hook - Dev Login:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleDevLogin(userId: string)` –¥–ª—è dev –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –í—ã–ø–æ–ª–Ω—è–µ—Ç GET –∑–∞–ø—Ä–æ—Å –∫ –±—ç–∫–µ–Ω–¥—É
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç accessToken –∏ user data —á–µ—Ä–µ–∑ `authStorage`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
- –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –≤ dashboard –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏

**Authentication Flow - sendAuthCode:**
- –§—É–Ω–∫—Ü–∏—è `sendAuthCode` —Ç–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—è–µ—Ç `redirectUri` –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `redirectUri` –±–µ—Ä–µ—Ç—Å—è –∏–∑ `NEXT_PUBLIC_THREADS_REDIRECT_URI` env –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- –ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞: `GET /users/login?redirect_uri=<encoded_url>`
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –±—ç–∫–µ–Ω–¥—É –∑–Ω–∞—Ç—å –∫—É–¥–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å redirect –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ OAuth

### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

```
/project/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ (auth)/                  # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ (components)/             # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/                # Dashboard —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # Next.js API routes (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx                # Root layout
‚îÇ   ‚îú‚îÄ‚îÄ loading.tsx               # –ì–ª–æ–±–∞–ª—å–Ω—ã–π loading
‚îÇ   ‚îî‚îÄ‚îÄ error.tsx                 # –ì–ª–æ–±–∞–ª—å–Ω—ã–π error
‚îú‚îÄ‚îÄ components/                   # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/                       # shadcn/ui –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ forms/                    # –§–æ—Ä–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ layout/                   # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ common/                   # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ lib/                          # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ api-client.ts             # HTTP –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts                  # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ validations.ts            # Zod —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ hooks/                        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ use-api.ts                # –•—É–∫ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ use-local-storage.ts      # –†–∞–±–æ—Ç–∞ —Å localStorage
‚îú‚îÄ‚îÄ types/                        # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ contexts/                     # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îú‚îÄ‚îÄ stores/                       # –°–æ—Å—Ç–æ—è–Ω–∏—è (Zustand/Jotai)
‚îú‚îÄ‚îÄ screenshots/                  # –°–∫—Ä–∏–Ω—à–æ—Ç—ã Chrome DevTools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
‚îî‚îÄ‚îÄ public/                       # –°—Ç–∞—Ç–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
```

---

## üîß –†–∞–±–æ—Ç–∞ —Å API

### Frontend API Layer

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ API —Ö—É–∫–æ–≤:

```typescript
// api/{feature}/index.ts
import { ApiClient } from '@/lib/api-client'

export interface EntityData {
  id: string
  name: string
  description?: string
  createdAt: string
  updatedAt: string
}

export interface CreateEntityData {
  name: string
  description?: string
}

export class EntityApi {
  private client = new ApiClient()

  async getAll(params?: Record<string, any>) {
    return await this.client.get<EntityData[]>('/api/entities', params)
  }

  async getById(id: string) {
    return await this.client.get<EntityData>(`/api/entities/${id}`)
  }

  async create(data: CreateEntityData) {
    return await this.client.post<EntityData>('/api/entities', data)
  }

  async update(id: string, data: Partial<CreateEntityData>) {
    return await this.client.put<EntityData>(`/api/entities/${id}`, data)
  }

  async delete(id: string) {
    return await this.client.delete(`/api/entities/${id}`)
  }
}

export const entityApi = new EntityApi()
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ React —Ö—É–∫–∞:

```typescript
// hooks/use-crud.ts
import { useState, useCallback, useEffect } from 'react'

interface UseCrudOptions<T, CreateData> {
  api: {
    getAll: (params?: any) => Promise<T[]>
    create: (data: CreateData) => Promise<T>
    update: (id: string, data: Partial<CreateData>) => Promise<T>
    delete: (id: string) => Promise<void>
  }
  initialParams?: Record<string, any>
}

export function useCrud<T extends { id: string }, CreateData>(
  options: UseCrudOptions<T, CreateData>
) {
  const { api, initialParams } = options

  const [data, setData] = useState<T[]>([])
  const [loading, setLoading] = useState(false)
  const [error, setError] = useState<string | null>(null)

  const fetch = useCallback(
    async (params?: Record<string, any>) => {
      setLoading(true)
      setError(null)
      try {
        const result = await api.getAll({ ...initialParams, ...params })
        setData(result)
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Unknown error')
      } finally {
        setLoading(false)
      }
    },
    [api, initialParams]
  )

  const create = useCallback(
    async (newData: CreateData) => {
      try {
        const result = await api.create(newData)
        setData(prev => [...prev, result])
        return result
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Unknown error')
        throw err
      }
    },
    [api]
  )

  const update = useCallback(
    async (id: string, updateData: Partial<CreateData>) => {
      try {
        const result = await api.update(id, updateData)
        setData(prev => prev.map(item => (item.id === id ? result : item)))
        return result
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Unknown error')
        throw err
      }
    },
    [api]
  )

  const remove = useCallback(
    async (id: string) => {
      try {
        await api.delete(id)
        setData(prev => prev.filter(item => item.id !== id))
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Unknown error')
        throw err
      }
    },
    [api]
  )

  useEffect(() => {
    fetch()
  }, [fetch])

  return {
    data,
    loading,
    error,
    refetch: fetch,
    create,
    update,
    delete: remove,
  }
}
```

#### 3. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç:

```typescript
// lib/api-client.ts
interface ApiClientOptions {
  baseUrl?: string
  headers?: Record<string, string>
  interceptors?: {
    request?: (config: RequestInit) => RequestInit
    response?: (response: Response) => Response | Promise<Response>
  }
}

export class ApiClient {
  private baseUrl: string
  private defaultHeaders: Record<string, string>
  private interceptors: ApiClientOptions['interceptors']

  constructor(options: ApiClientOptions = {}) {
    this.baseUrl = options.baseUrl || process.env.NEXT_PUBLIC_API_URL || ''
    this.defaultHeaders = {
      'Content-Type': 'application/json',
      ...options.headers,
    }
    this.interceptors = options.interceptors || {}
  }

  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {
    const url = `${this.baseUrl}${endpoint}`

    let config: RequestInit = {
      ...options,
      headers: {
        ...this.defaultHeaders,
        ...options.headers,
      },
    }

    // Request interceptor
    if (this.interceptors.request) {
      config = this.interceptors.request(config)
    }

    const response = await fetch(url, config)

    // Response interceptor
    let processedResponse = response
    if (this.interceptors.response) {
      processedResponse = await this.interceptors.response(response)
    }

    if (!processedResponse.ok) {
      throw new Error(`API Error: ${processedResponse.status} ${processedResponse.statusText}`)
    }

    return processedResponse.json()
  }

  async get<T>(endpoint: string, params?: Record<string, any>): Promise<T> {
    let url = endpoint
    if (params) {
      const searchParams = new URLSearchParams()
      Object.entries(params).forEach(([key, value]) => {
        if (value !== undefined && value !== null) {
          searchParams.append(key, String(value))
        }
      })
      const queryString = searchParams.toString()
      if (queryString) {
        url += `?${queryString}`
      }
    }
    return this.request<T>(url)
  }

  async post<T>(endpoint: string, data?: any): Promise<T> {
    return this.request<T>(endpoint, {
      method: 'POST',
      body: data ? JSON.stringify(data) : undefined,
    })
  }

  async put<T>(endpoint: string, data?: any): Promise<T> {
    return this.request<T>(endpoint, {
      method: 'PUT',
      body: data ? JSON.stringify(data) : undefined,
    })
  }

  async patch<T>(endpoint: string, data?: any): Promise<T> {
    return this.request<T>(endpoint, {
      method: 'PATCH',
      body: data ? JSON.stringify(data) : undefined,
    })
  }

  async delete<T>(endpoint: string): Promise<T> {
    return this.request<T>(endpoint, {
      method: 'DELETE',
    })
  }
}
```

---

## üé® –†–∞–±–æ—Ç–∞ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn/ui):

```
components/ui/
‚îú‚îÄ‚îÄ button.tsx
‚îú‚îÄ‚îÄ card.tsx
‚îú‚îÄ‚îÄ dialog.tsx
‚îú‚îÄ‚îÄ input.tsx
‚îú‚îÄ‚îÄ table.tsx
‚îú‚îÄ‚îÄ badge.tsx
‚îú‚îÄ‚îÄ avatar.tsx
‚îú‚îÄ‚îÄ separator.tsx
‚îú‚îÄ‚îÄ form.tsx
‚îú‚îÄ‚îÄ dropdown-menu.tsx
‚îú‚îÄ‚îÄ toast.tsx
‚îî‚îÄ‚îÄ sheet.tsx
```

#### 2. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏:

```typescript
// components/common/entity-card.tsx
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Button } from '@/components/ui/button'
import { Badge } from '@/components/ui/badge'
import { MoreHorizontal, Edit, Trash2, Eye } from 'lucide-react'
import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu'

interface EntityCardProps<T> {
  data: T & {
    id: string
    name: string
    description?: string
    active?: boolean
    createdAt: string
    updatedAt: string
  }
  onView?: (id: string) => void
  onEdit?: (id: string) => void
  onDelete?: (id: string) => void
  actions?: React.ReactNode
  status?: {
    value: boolean | string
    label: string
    variant?: 'default' | 'secondary' | 'destructive' | 'outline'
  }
}

export function EntityCard<T>({ data, onView, onEdit, onDelete, actions, status }: EntityCardProps<T>) {
  return (
    <Card className='w-full'>
      <CardHeader>
        <CardTitle className='flex justify-between items-center'>
          <span>{data.name}</span>
          <div className='flex items-center gap-2'>
            {status && <Badge variant={status.variant || 'secondary'}>{status.label}</Badge>}
            <DropdownMenu>
              <DropdownMenuTrigger asChild>
                <Button variant='ghost' size='sm'>
                  <MoreHorizontal className='h-4 w-4' />
                </Button>
              </DropdownMenuTrigger>
              <DropdownMenuContent align='end'>
                {onView && (
                  <DropdownMenuItem onClick={() => onView(data.id)}>
                    <Eye className='h-4 w-4 mr-2' />
                    View
                  </DropdownMenuItem>
                )}
                {onEdit && (
                  <DropdownMenuItem onClick={() => onEdit(data.id)}>
                    <Edit className='h-4 w-4 mr-2' />
                    Edit
                  </DropdownMenuItem>
                )}
                {onDelete && (
                  <DropdownMenuItem onClick={() => onDelete(data.id)} className='text-destructive'>
                    <Trash2 className='h-4 w-4 mr-2' />
                    Delete
                  </DropdownMenuItem>
                )}
                {actions}
              </DropdownMenuContent>
            </DropdownMenu>
          </div>
        </CardTitle>
      </CardHeader>
      <CardContent>
        {data.description && <p className='text-muted-foreground text-sm mb-4'>{data.description}</p>}
        <div className='mt-4 flex justify-between text-xs text-muted-foreground'>
          <span>Created: {new Date(data.createdAt).toLocaleDateString()}</span>
          <span>Updated: {new Date(data.updatedAt).toLocaleDateString()}</span>
        </div>
      </CardContent>
    </Card>
  )
}
```

### Page-specific –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```
app/{feature}/
‚îú‚îÄ‚îÄ page.tsx              # –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ (components)/         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ {Feature}List.tsx
‚îÇ   ‚îú‚îÄ‚îÄ {Feature}Form.tsx
‚îÇ   ‚îú‚îÄ‚îÄ {Feature}Stats.tsx
‚îÇ   ‚îî‚îÄ‚îÄ {Feature}Header.tsx
‚îú‚îÄ‚îÄ loading.tsx           # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
‚îî‚îÄ‚îÄ error.tsx             # –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–∫–∏
```

---

## üìã –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è page.tsx —Ñ–∞–π–ª–æ–≤

**–í—Å–µ–≥–¥–∞ —Ä–∞–∑–¥–µ–ª—è–π—Ç–µ page.tsx –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã!**

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

#### 1. –û—Å–Ω–æ–≤–Ω–æ–π page.tsx (—Ç–æ–ª—å–∫–æ –ª–æ–≥–∏–∫–∞ –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è):

```typescript
// app/{feature}/page.tsx
import { Suspense } from 'react'
import { redirect } from 'next/navigation'
import { getServerSession } from '@/lib/auth'
import { FeatureHeader } from './(components)/feature-header'
import { FeatureStats } from './(components)/feature-stats'
import { FeatureList } from './(components)/feature-list'
import { PageLoader } from '@/components/ui/page-loader'

export default async function FeaturePage() {
  const session = await getServerSession()

  if (!session) {
    redirect('/login')
  }

  return (
    <div className='container mx-auto py-8 space-y-8'>
      <FeatureHeader />

      <Suspense fallback={<PageLoader />}>
        <FeatureStats />
      </Suspense>

      <Suspense fallback={<PageLoader />}>
        <FeatureList />
      </Suspense>
    </div>
  )
}
```

#### 2. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π header –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```typescript
// app/{feature}/(components)/feature-header.tsx
import { Button } from '@/components/ui/button'
import { Plus, Search, Filter } from 'lucide-react'
import { Input } from '@/components/ui/input'
import { FeatureForm } from './feature-form'
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'

interface FeatureHeaderProps {
  title?: string
  description?: string
  createButtonText?: string
  onCreate?: (data: any) => Promise<void>
}

export function FeatureHeader({
  title = 'Features',
  description,
  createButtonText = 'Create Feature',
  onCreate,
}: FeatureHeaderProps) {
  return (
    <div className='flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4'>
      <div>
        <h1 className='text-3xl font-bold tracking-tight'>{title}</h1>
        {description && <p className='text-muted-foreground'>{description}</p>}
      </div>

      <div className='flex items-center gap-2 w-full sm:w-auto'>
        <div className='relative flex-1 sm:flex-initial'>
          <Search className='absolute left-2 top-2.5 h-4 w-4 text-muted-foreground' />
          <Input placeholder='Search...' className='pl-8' />
        </div>
        <Button variant='outline' size='sm'>
          <Filter className='h-4 w-4 mr-2' />
          Filter
        </Button>
        <Dialog>
          <DialogTrigger asChild>
            <Button>
              <Plus className='h-4 w-4 mr-2' />
              {createButtonText}
            </Button>
          </DialogTrigger>
          <DialogContent>
            <DialogHeader>
              <DialogTitle>{createButtonText}</DialogTitle>
            </DialogHeader>
            <FeatureForm onSubmit={onCreate} />
          </DialogContent>
        </Dialog>
      </div>
    </div>
  )
}
```

#### 3. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å CRUD:

```typescript
// app/{feature}/(components)/feature-list.tsx
import { EntityCard } from '@/components/common/entity-card'
import { useCrud } from '@/hooks/use-crud'
import { entityApi } from '@/api/feature'
import { toast } from 'sonner'

export function FeatureList() {
  const {
    data,
    loading,
    error,
    create,
    update,
    delete: remove,
  } = useCrud({
    api: entityApi,
  })

  const handleDelete = async (id: string) => {
    try {
      await remove(id)
      toast.success('Item deleted successfully')
    } catch (error) {
      toast.error('Failed to delete item')
    }
  }

  const handleEdit = async (id: string) => {
    // Open edit dialog/modal
  }

  if (loading && data.length === 0) {
    return <div>Loading...</div>
  }

  if (error) {
    return <div>Error: {error}</div>
  }

  return (
    <div className='grid gap-4 md:grid-cols-2 lg:grid-cols-3'>
      {data.map((item) => (
        <EntityCard
          key={item.id}
          data={item}
          onEdit={handleEdit}
          onDelete={handleDelete}
          status={{
            value: item.active,
            label: item.active ? 'Active' : 'Inactive',
            variant: item.active ? 'default' : 'secondary',
          }}
        />
      ))}
    </div>
  )
}
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:

1. **–û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**
2. **page.tsx —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏**
3. **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ —Ö—É–∫–∞—Ö**
4. **UI-–ª–æ–≥–∏–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö**
5. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ generics**

---

## üéØ TypeScript —Ç–∏–ø—ã

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã:

```typescript
// types/common.ts
export interface BaseEntity {
  id: string
  createdAt: string
  updatedAt: string
}

export interface NameEntity extends BaseEntity {
  name: string
  description?: string
}

export interface StatusEntity extends BaseEntity {
  active: boolean
}

export interface PaginatedResponse<T> {
  data: T[]
  total: number
  page: number
  limit: number
  totalPages: number
}

export interface ApiError {
  message: string
  code?: string
  details?: any
}

export interface ApiResponse<T = any> {
  success: boolean
  data?: T
  error?: ApiError
  message?: string
}

export type PaginationParams = {
  page?: number
  limit?: number
  sortBy?: string
  sortOrder?: 'asc' | 'desc'
}

export type FilterParams = {
  search?: string
  active?: boolean
  [key: string]: any
}

export type ListParams = PaginationParams & FilterParams
```

---

## üì± –†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞:

```typescript
// lib/form-config.ts
import { z } from 'zod'

export const baseFormSchema = z.object({
  name: z.string().min(1, 'Name is required'),
  description: z.string().optional(),
  active: z.boolean().default(true),
})

export type BaseFormData = z.infer<typeof baseFormSchema>

export function createFormSchema<T extends z.ZodRawShape>(schema: T) {
  return z.object(schema)
}
```

```typescript
// components/common/entity-form.tsx
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { Textarea } from '@/components/ui/textarea'
import { Switch } from '@/components/ui/switch'
import { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form'
import { useToast } from '@/components/ui/use-toast'

interface EntityFormProps<T> {
  initialData?: Partial<T>
  onSubmit: (data: T) => Promise<void>
  schema: any
  submitText?: string
  loading?: boolean
}

export function EntityForm<T extends BaseFormData>({
  initialData,
  onSubmit,
  schema,
  submitText = 'Submit',
  loading = false,
}: EntityFormProps<T>) {
  const { toast } = useToast()

  const form = useForm<T>({
    resolver: zodResolver(schema),
    defaultValues: {
      name: '',
      description: '',
      active: true,
      ...initialData,
    },
  })

  const handleSubmit = async (data: T) => {
    try {
      await onSubmit(data)
      toast({
        title: 'Success!',
        description: 'Operation completed successfully.',
      })
      if (!initialData) {
        form.reset()
      }
    } catch (error) {
      toast({
        variant: 'destructive',
        title: 'Error',
        description: error instanceof Error ? error.message : 'Operation failed',
      })
    }
  }

  return (
    <Form {...form}>
      <form onSubmit={form.handleSubmit(handleSubmit)} className='space-y-4'>
        <FormField
          control={form.control}
          name='name'
          render={({ field }) => (
            <FormItem>
              <FormLabel>Name</FormLabel>
              <FormControl>
                <Input placeholder='Enter name' {...field} />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />

        <FormField
          control={form.control}
          name='description'
          render={({ field }) => (
            <FormItem>
              <FormLabel>Description</FormLabel>
              <FormControl>
                <Textarea placeholder='Enter description' {...field} />
              </FormControl>
              <FormMessage />
            </FormItem>
          )}
        />

        <FormField
          control={form.control}
          name='active'
          render={({ field }) => (
            <FormItem className='flex flex-row items-center justify-between rounded-lg border p-4'>
              <div className='space-y-0.5'>
                <FormLabel className='text-base'>Active</FormLabel>
              </div>
              <FormControl>
                <Switch checked={field.value} onCheckedChange={field.onChange} />
              </FormControl>
            </FormItem>
          )}
        />

        <Button type='submit' className='w-full' disabled={loading}>
          {loading ? 'Submitting...' : submitText}
        </Button>
      </form>
    </Form>
  )
}
```

---

## üîî –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Error Boundary:

```typescript
// components/error-boundary.tsx
'use client'

import React from 'react'
import { Button } from '@/components/ui/button'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { AlertTriangle, RefreshCw, Home } from 'lucide-react'
import Link from 'next/link'

interface Props {
  children: React.ReactNode
  fallback?: React.ComponentType<{ error: Error; reset: () => void }>
  showErrorDetails?: boolean
}

interface State {
  hasError: boolean
  error: Error | null
}

export default function ErrorBoundary({
  children,
  fallback: Fallback,
  showErrorDetails = process.env.NODE_ENV === 'development',
}: Props) {
  const [state, setState] = React.useState<State>({
    hasError: false,
    error: null,
  })

  React.useEffect(() => {
    const handleError = (event: ErrorEvent) => {
      setState({
        hasError: true,
        error: event.error,
      })
    }

    const handleUnhandledRejection = (event: PromiseRejectionEvent) => {
      setState({
        hasError: true,
        error: new Error(event.reason),
      })
    }

    window.addEventListener('error', handleError)
    window.addEventListener('unhandledrejection', handleUnhandledRejection)

    return () => {
      window.removeEventListener('error', handleError)
      window.removeEventListener('unhandledrejection', handleUnhandledRejection)
    }
  }, [])

  const reset = () => {
    setState({
      hasError: false,
      error: null,
    })
  }

  if (state.hasError && state.error) {
    if (Fallback) {
      return <Fallback error={state.error} reset={reset} />
    }

    return (
      <div className='min-h-screen flex items-center justify-center p-4'>
        <Card className='w-full max-w-md'>
          <CardHeader>
            <CardTitle className='flex items-center gap-2 text-destructive'>
              <AlertTriangle className='h-5 w-5' />
              Something went wrong
            </CardTitle>
          </CardHeader>
          <CardContent className='space-y-4'>
            <p className='text-sm text-muted-foreground'>
              An unexpected error occurred. Please try again or contact support if the problem persists.
            </p>

            {showErrorDetails && (
              <div className='bg-muted p-3 rounded text-xs'>
                <strong>Error details:</strong>
                <pre className='mt-1 whitespace-pre-wrap'>{state.error.message}</pre>
              </div>
            )}

            <div className='flex gap-2'>
              <Button onClick={reset} variant='outline' className='flex-1'>
                <RefreshCw className='h-4 w-4 mr-2' />
                Try Again
              </Button>
              <Button asChild variant='default' className='flex-1'>
                <Link href='/'>
                  <Home className='h-4 w-4 mr-2' />
                  Go Home
                </Link>
              </Button>
            </div>
          </CardContent>
        </Card>
      </div>
    )
  }

  return <>{children}</>
}
```

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∑–∞–≥—Ä—É–∑—á–∏–∫–∏:

```typescript
// components/ui/loaders.tsx
import { Loader2 } from 'lucide-react'
import { Skeleton } from '@/components/ui/skeleton'

export function PageLoader() {
  return (
    <div className='flex items-center justify-center min-h-[400px]'>
      <div className='text-center space-y-4'>
        <Loader2 className='h-8 w-8 animate-spin mx-auto text-primary' />
        <p className='text-muted-foreground'>Loading...</p>
      </div>
    </div>
  )
}

export function InlineLoader() {
  return (
    <div className='flex items-center justify-center py-8'>
      <Loader2 className='h-6 w-6 animate-spin text-primary' />
    </div>
  )
}

export function CardSkeleton() {
  return (
    <div className='rounded-lg border'>
      <div className='p-6 space-y-4'>
        <div className='space-y-2'>
          <Skeleton className='h-6 w-3/4' />
          <Skeleton className='h-4 w-1/2' />
        </div>
        <Skeleton className='h-20 w-full' />
        <div className='flex justify-between'>
          <Skeleton className='h-4 w-24' />
          <Skeleton className='h-4 w-24' />
        </div>
      </div>
    </div>
  )
}

export function TableSkeleton({ rows = 5 }: { rows?: number }) {
  return (
    <div className='space-y-3'>
      {Array.from({ length: rows }).map((_, i) => (
        <div key={i} className='flex items-center space-x-4'>
          <Skeleton className='h-12 w-12 rounded-full' />
          <div className='space-y-2 flex-1'>
            <Skeleton className='h-4 w-3/4' />
            <Skeleton className='h-4 w-1/2' />
          </div>
        </div>
      ))}
    </div>
  )
}
```

---

## üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã:

```typescript
// lib/utils.ts
import { clsx, type ClassValue } from 'clsx'
import { twMerge } from 'tailwind-merge'

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
export function formatDate(date: string | Date, format: 'short' | 'long' = 'short') {
  const d = new Date(date)
  if (format === 'long') {
    return d.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit',
    })
  }
  return d.toLocaleDateString()
}

// Debounce
export function debounce<T extends (...args: any[]) => any>(
  func: T,
  wait: number
): (...args: Parameters<T>) => void {
  let timeout: NodeJS.Timeout
  return (...args: Parameters<T>) => {
    clearTimeout(timeout)
    timeout = setTimeout(() => func(...args), wait)
  }
}

// Local storage
export const storage = {
  get: <T>(key: string, defaultValue?: T): T | null => {
    if (typeof window === 'undefined') return null
    try {
      const item = localStorage.getItem(key)
      return item ? JSON.parse(item) : defaultValue || null
    } catch {
      return defaultValue || null
    }
  },
  set: <T>(key: string, value: T): void => {
    if (typeof window === 'undefined') return
    try {
      localStorage.setItem(key, JSON.stringify(value))
    } catch {
      // Ignore errors
    }
  },
  remove: (key: string): void => {
    if (typeof window === 'undefined') return
    localStorage.removeItem(key)
  },
  clear: (): void => {
    if (typeof window === 'undefined') return
    localStorage.clear()
  },
}

// URL helpers
export function buildUrl(base: string, params: Record<string, any>): string {
  const url = new URL(base)
  Object.entries(params).forEach(([key, value]) => {
    if (value !== undefined && value !== null) {
      url.searchParams.append(key, String(value))
    }
  })
  return url.toString()
}

// Validation helpers
export function isValidEmail(email: string): boolean {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)
}

export function isValidUrl(url: string): boolean {
  try {
    new URL(url)
    return true
  } catch {
    return false
  }
}
```

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏:

```typescript
// hooks/use-local-storage.ts
import { useState, useEffect } from 'react'

export function useLocalStorage<T>(
  key: string,
  initialValue: T
): [T, (value: T | ((prev: T) => T)) => void] {
  const [storedValue, setStoredValue] = useState<T>(() => {
    if (typeof window === 'undefined') return initialValue
    try {
      const item = window.localStorage.getItem(key)
      return item ? JSON.parse(item) : initialValue
    } catch {
      return initialValue
    }
  })

  const setValue = (value: T | ((prev: T) => T)) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value
      setStoredValue(valueToStore)
      if (typeof window !== 'undefined') {
        window.localStorage.setItem(key, JSON.stringify(valueToStore))
      }
    } catch {
      // Ignore errors
    }
  }

  return [storedValue, setValue]
}

// hooks/use-debounce.ts
import { useState, useEffect } from 'react'

export function useDebounce<T>(value: T, delay: number): T {
  const [debouncedValue, setDebouncedValue] = useState<T>(value)

  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value)
    }, delay)

    return () => {
      clearTimeout(handler)
    }
  }, [value, delay])

  return debouncedValue
}

// hooks/use-async-operation.ts
import { useState, useCallback } from 'react'

export function useAsyncOperation<T extends any[], R>(operation: (...args: T) => Promise<R>) {
  const [loading, setLoading] = useState(false)
  const [error, setError] = useState<Error | null>(null)

  const execute = useCallback(
    async (...args: T): Promise<R | null> => {
      setLoading(true)
      setError(null)

      try {
        const result = await operation(...args)
        return result
      } catch (err) {
        setError(err instanceof Error ? err : new Error('Unknown error'))
        return null
      } finally {
        setLoading(false)
      }
    },
    [operation]
  )

  const reset = useCallback(() => {
    setLoading(false)
    setError(null)
  }, [])

  return {
    execute,
    loading,
    error,
    reset,
  }
}
```

---

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# Frontend (Next.js)
npm run dev              # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run build           # Production —Å–±–æ—Ä–∫–∞
npm run start           # –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
npm run lint            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º
npm run type-check      # –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript
npm run test            # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test:watch      # –¢–µ—Å—Ç—ã –≤ —Ä–µ–∂–∏–º–µ watch
npm run test:coverage   # –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
npm run format          # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
npm run format:check    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
npm run clean           # –û—á–∏—Å—Ç–∫–∞ cache
```

---

## ‚úÖ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞:

- **–í—Å–µ–≥–¥–∞ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä—É–π—Ç–µ page.tsx**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TypeScript –¥–ª—è –≤—Å–µ–≥–æ**
- **–°–ª–µ–¥—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è**
- **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React.memo –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
- **–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ useMemo/useCallback –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å React.lazy**
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å Next.js Image**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Suspense boundaries**

### 3. UX/UI:

- **–ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏**
- **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤**
- **–°–ª–µ–¥—É–π—Ç–µ –¥–∏–∑–∞–π–Ω—É —Å–∏—Å—Ç–µ–º—ã**
- **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**

### 4. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:

- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é HTML —Ä–∞–∑–º–µ—Ç–∫—É**
- **–î–æ–±–∞–≤—å—Ç–µ ARIA –∞—Ç—Ä–∏–±—É—Ç—ã –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ**
- **–û–±–µ—Å–ø–µ—á—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å —Ü–≤–µ—Ç–æ–≤**
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å screen readers**

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏**
- **–ü–∏—à–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ñ–æ—Ä–º**
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –∏–∑–æ–ª—è—Ü–∏–∏**
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π**

### 6. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞:

- **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã Chrome DevTools –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É `screenshots/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MCP chrome-devtools –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏**
- **–í–µ–¥–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏**
- **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —Å –¥–∞—Ç–æ–π –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã**

### 7. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ production**
- **–ó–∞—â–∏—Ç–∞ –æ—Ç XSS –∞—Ç–∞–∫**
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤**
- **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

---

## üöÄ –ü—Ä–æ–µ–∫—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å Next.js –ø—Ä–æ–µ–∫—Ç
npx create-next-app@latest my-project --typescript --tailwind --eslint --app

# 2. –î–æ–±–∞–≤–∏—Ç—å shadcn/ui
npx shadcn-ui@latest init

# 3. –î–æ–±–∞–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
npx shadcn-ui@latest add button card input label form
npx shadcn-ui@latest add dialog dropdown-menu toast
npx shadcn-ui@latest add avatar badge skeleton

# 4. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install zod react-hook-form @hookform/resolvers
npm install clsx tailwind-merge lucide-react
npm install @radix-ui/react-switch @radix-ui/react-toast
npm install sonner

# 5. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
mkdir -p app/\(components\)
mkdir -p components/{ui,common,layout,forms}
mkdir -p lib hooks types contexts stores
mkdir -p api/{types}
```
